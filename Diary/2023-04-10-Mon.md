## <font color="yellow">昨日学习内容复习</font>
## <font color="yellow">今日学习内容</font>
## C语言与指针
### 应用1：大量数据作为参数传递给函数时，使用数组避免重新给在内存内给参数分配存储空间，节省内存。
指针即数组，数组即指针。
 int Max(const int *Array,unsigned char Length)
{
	int M = Array[0];
	unsigned char i;
	for(i=1;i<Length;i++)
	{
		if(M<Array[i]){M = Array[i];}
	}
	return M;
}
void main()
{
	int Table[] = { 5 ,-6 ,9 ,103 ,98 ,-87};
	int M;
	LCD_Init();
	M = Max(Table , sizeof(Table)/sizeof(Table[0]));
	LCD_ShowNum(1,1,M,5);
	while(1);
}

### 应用2：利用函数与主函操作同一内存空间的特性，实现函数多返回值,即在函数中修改主函数中的变量
 void Max(int *M,int *Count,const int *Array,unsigned char Length)
{
	unsigned char i;
	*M = Array[0];
	for(i=1;i<Length;i++)
	{
		if(*M<Array[i]){*M = Array[i];}
	}
	for(i=1;i<Length;i++)
	{
		if(*M==Array[i]){(*Count)++;}
	}
}
void main()
{
	int Table[] = { 5 ,-6 ,9 ,103 ,98 ,-87,103,103};
	int M;
	int Count;
	LCD_Init();
	Max(&M,&Count,Table , sizeof(Table)/sizeof(Table[0]));
	LCD_ShowNum(1,1,M,5);
	LCD_ShowNum(2,1,Count,5);
	while(1);
}

### 应用3：指针作为函数返回值 ，常用于文件读写 ，用于将函数中的局部变量返回到主函数中

### 应用4：直接访问物理地址下的数据

4.1 访问硬件指定内存下的数据，入设备ID号等
51应用1：获取51单片机全球唯一标号
void main()
{
	unsigned char *p;
	p=(unsigned char *)0xF1;
	LCD_Init();
  LCD_ShowHexNum(1,1,*p,2);	
	LCD_ShowHexNum(1,3,*(p+1),2);	
	LCD_ShowHexNum(1,5,*(p+2),2);	
	LCD_ShowHexNum(1,7,*(p+3),2);	
	LCD_ShowHexNum(1,9,*(p+4),2);	
	LCD_ShowHexNum(1,11,*(p+5),2);	
	LCD_ShowHexNum(1,13,*(p+6),2);	
  LCD_ShowHexNum(2,15,p+6,2);	
	while(1);
}

应用4.2  实现复杂数据的传递
float num = 12.3556;
  unsigned char *p;
  p = (unsigned char *)&num;
  float *f ;
  f=(float *)p;
  printf("%e",*f);

### 野指针
### 空指针 NULL ((void \*)o)
### 万能指针 void \* 
1. 可以指向任意变量的内存空间
2. 常用于动态分布存储空间
3. void* 类型指针使用原则是： 必须要做强制类型转换成为目标类型后才可以使用
4. 在定义时定义为void 在使用时强制转换成目标类型
### 多级指针
1级指针保存的是变量的地址
2级指针保存的是1级指针变量的地址
3级指针保存的是2级指针变量的地址
### C语言中的面向对象
#### c语言中的static 关键字
1. 修饰 全局变量 以及函数 可以使其只在当前文件可见
2. 修饰局部变量 这个局部变量会从栈区进入静态变量区域  变量的生命周期延长了 函数调用结束后该变量依然存在，只对函数可见。
3. 参考资料网址[static](https://blog.csdn.net/qq_53283658/article/details/122031321)
### C语言中的内存管理
![](https://private-warehouse-1317335037.cos.ap-guangzhou.myqcloud.com/Test/Screenshot%202023-04-10%20172342.png)

## 结构体 struct

## Union 所有数据存在内存中同一个位置，起始地址相同
``` c
union Test

{

  unsigned char a;

  unsigned int b;

  unsigned short c;

};

int main()

{

  union Test tmp;

  tmp.b = 0x44332211;

  printf("%p,%p,%p\n",&(tmp.a),&(tmp.b),&(tmp.c));

  printf("%lu\n",sizeof(union Test));

  printf("%0x\n%0x\n",tmp.a,tmp.c);

  tmp.a=0x22;

  printf("%x\n",tmp.b);

  system("pause");

}
```

## typedef  为已知的数据类型起别名 发生在编译阶段

## enum 枚举  常用于命名

1. enum typeName{ valueName1, valueName2, valueName3, ...... };
2. eg: enum week{ Mon, Tues, Wed, Thurs, Fri, Sat, Sun };
3. 1.  enum week{ Mon = 1, Tues = 2, Wed = 3, Thurs = 4, Fri = 5, Sat = 6, Sun = 7 };
4. 1.  enum week{ Mon = 1, Tues, Wed, Thurs, Fri, Sat, Sun };
5. 1.  enum week a, b, c;
6. a= Tues;

### register
1. 如果用register来修饰一个变量，那么这个变量会作为一个寄存器变量，让变量的访问速度变为最快，常用于需要高频访问且需求速度块的场合。

### Volatile
声明某个变量为易变的，避免编译器优化提前将某个变量提取到寄存器当中，所以为了安全起见，只要是等待别的程序修改某个变量的话，就加上volatile关键字
[volatile](https://blog.csdn.net/qq_45467083/article/details/120102058)
一般说来，volatile用在如下的几个地方：  
1、中断服务程序中修改的供其它程序检测的变量需要加volatile；  
2、多任务环境下各任务间共享的标志应该加volatile；  
3、存储器映射的硬件寄存器通常也要加volatile说明，因为每次对它的读写都可能由不同意义；  
另外，以上这几种情况经常还要同时考虑数据的完整性（相互关联的几个标志读了一半被打断了重写），在1中可以通过关中断来实现，2中可以禁止任务调度，3中则只能依靠硬件的良好设计了。

## <font color="yellow">特殊事件</font>
## <font color="yellow">英语单词</font>
1. 单词复习
2. 今日单词



- 16:07 总是追寻已经失去的东西，总是后悔以前所作的选择，这样的人生怎么可能感到幸福呢，做一个平凡的人，平凡的要求自己，用有限的努力把事情做好。# emotion  ^lgqcjo