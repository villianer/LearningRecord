### ITC中断控制系统
### ITC 功能
	1. 控制硬件中断
		- 每一个1/0脚都具有外部中断能力，都有独立的中断向量，独立的标制位
		- 各种外设中断
	1. 控制软件中断TRAP
### 中断向量表 同时也是硬件中断优先级
![](https://private-warehouse-1317335037.cos.ap-guangzhou.myqcloud.com/Test/Screenshot%202023-05-15%20213437.png)
![](https://private-warehouse-1317335037.cos.ap-guangzhou.myqcloud.com/Test/Screenshot%202023-05-15%20213853.png)

### 中断处理流程
 ![](https://private-warehouse-1317335037.cos.ap-guangzhou.myqcloud.com/Test/Screenshot%202023-04-27%20224910.png)
 中断请求响应时，将CPU中关键寄存器的值入栈，然后跳转到对应的中断向量，执行中断例程，中断例程以IRE 指令结束，出栈然后回到原位置继续执行

### 中断响应原则
1. 同一时间可以有几个中断排队等待处理。
2. 最高软件优先级的中断先被响应
3. 如果有两个中断软件优先级相同，则硬件优先级高的先响应。
4. RESET TLI TRAP被当作最软件高优先级处理
5. CPU CC寄存器中的5 3表明当前中断请求的软件优先级，从ITC_SPRX中加载
6. ITC_SPRX 控制向量地址对应的软件优先级

中断处理模式
1. 同时中断管理模式，所有的中断都被设为中断等级3，所有的中断都不会被打断 reset itl trap除外
2. 嵌套中断处理模式
	1.  只要有一个中断软件等级被设置低于等级3就会触发 
	2.  不可以将中断优先级设为级别0(I1_x=1, I0_x=0)
	3.  在该模式下，允许在中断子程序中响应中断，软件优先级高的可以打断软件优先级低的
